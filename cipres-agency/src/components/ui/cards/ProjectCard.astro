---
import { ArrowRight } from '@lucide/astro';

interface Props {
  id: string;
  title: string;
  category: string;
  image: string;
  variant?: 'featured' | 'standard';
  showArrow?: boolean;
}

const { id, title, category, image, variant = 'standard', showArrow = true } = Astro.props;

const heightClasses = {
  featured: 'h-[300px] md:h-[600px]',
  standard: 'h-[300px] md:h-[400px]',
};
---

<a href={`/projects/${id}`} class="group block overflow-hidden rounded-3xl transition-transform hover:scale-[1.02]">
  <div class={`relative ${heightClasses[variant]}`}>
    <img
      src={image}
      alt={title}
      class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"
      transition:name={`project-${id}`}
    />

    <div class="absolute inset-x-3 bottom-3">
      <div
        class="group-hover:bg-secondary flex items-center justify-between gap-4 rounded-2xl bg-transparent/40 px-4 py-2 text-white backdrop-blur-xl transition-all duration-300"
      >
        <div class="flex flex-col gap-1">
          <div class="font-space-grotesk flex flex-wrap items-center gap-2">
            <h3 class="text-base md:text-xl">
              {title} / {category}
            </h3>
          </div>
        </div>

        {
          showArrow && (
            <div class="p-3 text-white transition-all duration-300 group-hover:-rotate-45">
              <ArrowRight />
            </div>
          )
        }
      </div>
    </div>
  </div>
</a>
